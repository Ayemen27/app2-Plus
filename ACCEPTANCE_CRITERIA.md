# ูุนุงููุฑ ุงููุจูู ูุงูุชูููู - Offline-First System

**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุขุฎุฑ ุชุญุฏูุซ:** 2025-12-30

---

## ๐๏ธ ูุนุงููุฑ ุฅุฏุงุฑุฉ ุงููููุงุช (ูุชุทูุจ ุนุงู ููู ูุฑุญูุฉ)

```
โ MUST: ุนูุฏ ุฅูุดุงุก ูููุงุช ุฌุฏูุฏุฉุ ูุชู ุญุฐู ุงููููุงุช ุงููุฏููุฉ ุงูููุฑุฑุฉ
โ MUST: ูุง ููุฌุฏ ูููุงุช ูุฏููุฉ ูุนุทูุฉ ูู ุงููุดุฑูุน
โ MUST: ุชุญุฏูุซ ุงูู imports ูุงูู references ุชููุงุฆูุงู
โ MUST: ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ูููุงุช orphaned (ุบูุฑ ูุณุชุฎุฏูุฉ)
โ SHOULD: ุชูุธูู node_modules ู build artifacts
```

---

## ุงููุฑุญูุฉ 1: ุงูุชุฃุณูุณ โ (ุงูุญุงููุฉ)

### ุงููุนูุงุฑ 1.1: ูุธุงู ุงููุฒุงููุฉ ุงูุฃุณุงุณู
```
โ MUST: ููุฌุฏ ููู sync.ts ูุน retry logic
โ MUST: ุงููุฒุงููุฉ ุชุจุฏุฃ ุชููุงุฆูุงู ุนูุฏ ุนูุฏุฉ ุงูุฅูุชุฑูุช
โ MUST: logging ุดุงูู ููู ุนูููุฉ ูุฒุงููุฉ
โ MUST: ูุนุงูุฌุฉ ุฃุฎุทุงุก ุตุญูุญุฉ (offline, network timeout, server error)
โ SHOULD: ุงูู UI ุชุนุฑุถ ุญุงูุฉ ุงููุฒุงููุฉ (syncing, failed, pending)
โ MUST: ุฌููุน ุงููููุงุช ุงููุฏููุฉ ุชู ุญุฐููุง (ูุง ุชูุฑุงุฑ)
```

### ุงููุนูุงุฑ 1.2: ุงูุญูุธ ุงููุญูู ููุนูููุงุช
```
โ MUST: ุงูุนูููุงุช ุงููุนููุฉ ุชูุญูุธ ูู IndexedDB
โ MUST: ุนูุฏ ุงููุดูุ ุงูุจูุงูุงุช ุชูุญูุธ ูุญููุงู ุชููุงุฆูุงู
โ MUST: ุงูุฑุณุงูุฉ ุชุฎุจุฑ ุงููุณุชุฎุฏู "ุณูุชู ุงููุฒุงููุฉ ุนูุฏ ุงูุงุชุตุงู"
โ SHOULD: ุนุฑุถ ุนุฏุฏ ุงูุนูููุงุช ุงููุนููุฉ ูู ุงูู UI
```

### ุงููุนูุงุฑ 1.3: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
```
โ MUST: ูุดู ุฅุฑุณุงู ุงูุจูุงูุงุช ูุง ูุคุฏู ูููุฏุงููุง
โ MUST: ุงูุฎุทุฃ ููุนุฑุถ ูููุณุชุฎุฏู ุจูุถูุญ
โ MUST: ุฅุนุงุฏุฉ ูุญุงููุฉ ุชููุงุฆูุฉ (max 5 ูุฑุงุช)
โ MUST: delay ุจูู ุงููุญุงููุงุช (exponential backoff)
```

**ุชุงุฑูุฎ ุงูุงูุชูุงุก ุงููุชููุน:** 2025-12-31

---

## ุงููุฑุญูุฉ 2: ูุฑุขุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ๐

### ุงููุนูุงุฑ 2.1: ููุทุฉ ููุงูุฉ ุงูู Full Backup
```
โ MUST: ููุฌุฏ endpoint POST /api/sync/full-backup
โ MUST: ูุฑุณู ุฌููุน ุงูุจูุงูุงุช (projects, workers, materials, etc)
โ MUST: ูู entity ูุญุชูู ุนูู metadata (id, createdAt, updatedAt)
โ MUST: ูุนูู ุจุฏูู pagination (ุฃู ูุน pagination ูุญุณูู)
โ SHOULD: compressed data ูุชูููู ุญุฌู ุงูููู
```

### ุงููุนูุงุฑ 2.2: ุฌุฏุงูู ูุญููุฉ ูุงููุฉ
```
โ MUST: IndexedDB ูุญุชูู ุนูู ููุณ ุฌุฏุงูู ุงูุฎุงุฏู
โ MUST: ูู ุฌุฏูู ูู ููุณ ุงูุฃุนูุฏุฉ (columns)
โ MUST: ุงูุจูุงูุงุช ูุญุฏุซุฉ ุชููุงุฆูุงู ูู ุงูุฎุงุฏู
โ MUST: ููุฌุฏ metadata store (lastSync timestamp)
```

### ุงููุนูุงุฑ 2.3: ููู ุงูุจูุงูุงุช ุงูุฃููู
```
โ MUST: ุนูุฏ ุฃูู ุชุญูููุ ุชูุญููู ุฌููุน ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู
โ MUST: ููุฌุฏ progress indicator ุฃุซูุงุก ุงูุชุญููู
โ MUST: ูู ุญุงูุฉ ุงููุดูุ ุชูุญุงูู ูุฌุฏุฏุงู
โ SHOULD: ุญูุธ timestamp ุขุฎุฑ ุชุญุฏูุซ
```

**ุชุงุฑูุฎ ุงูุงูุชูุงุก ุงููุชููุน:** 2026-01-03

---

## ุงููุฑุญูุฉ 3: ุงูุงุณุชุนูุงูุงุช ุงูุฐููุฉ ๐ง

### ุงููุนูุงุฑ 3.1: QueryClient ูุญุณูู
```
โ MUST: ูู query ุชูุญุต ุงูุงุชุตุงู ุชููุงุฆูุงู
โ MUST: ูู ุญุงูุฉ offlineุ ุชูุฑุฌุน ุจูุงูุงุช ูู IndexedDB
โ MUST: ุนูุฏ ุงูุนูุฏุฉ onlineุ ุชูุญุฏูุซ ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู
โ MUST: ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงูุงูุชูุงููุฉ (slow network)
```

### ุงููุนูุงุฑ 3.2: Fallback Logic
```
โ MUST: ุฏุงูุฉ getDataWithFallback() ููู entity
โ MUST: ุฅุฐุง ูุดู ุงูุฎุงุฏูุ ุงุณุชุฎุฏู ุงูุจูุงูุงุช ุงููุญููุฉ
โ MUST: ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ูุฏููุฉุ ุนุฑูู ูููุณุชุฎุฏู
โ SHOULD: cache invalidation ุฐูู
```

### ุงููุนูุงุฑ 3.3: ุฃููุงุน ุงูุจูุงูุงุช ูุญุฏุซุฉ
```
โ MUST: ุฌููุน Types ูุญุฏุซุฉ ูุฏุนู local data
โ MUST: ูุง ุชูุฌุฏ ุฃุฎุทุงุก TypeScript
โ MUST: ุงุณุชุนูุงู strict mode ูู TypeScript
```

**ุชุงุฑูุฎ ุงูุงูุชูุงุก ุงููุชููุน:** 2026-01-06

---

## ุงููุฑุญูุฉ 4: ุงูุชุฒุงูู ุซูุงุฆู ุงูุงุชุฌุงู ๐

### ุงููุนูุงุฑ 4.1: Batch Sync Endpoint
```
โ MUST: endpoint POST /api/sync/batch
โ MUST: ููุจู ูุตูููุฉ ูู ุงูุนูููุงุช (create, update, delete)
โ MUST: ููุฑุฌุน status ููู ุนูููุฉ (success/failed)
โ MUST: ูุนุงููุงุช (transactions) - ุฅูุง ุงููู ุฃู ูุง ุฃุญุฏ
```

### ุงููุนูุงุฑ 4.2: ุญู ุงูุชุถุงุฑุนุงุช
```
โ MUST: ุงูุชุดุงู ุงูุชุถุงุฑุนุงุช ุชููุงุฆูุงู
โ MUST: ุงุณุชุฑุงุชูุฌูุฉ ูุงุถุญุฉ ูุญู ุงูุชุถุงุฑุนุงุช
   - Last-Write-Wins (LWW) ููุจูุงูุงุช ุงูุจุณูุทุฉ
   - Custom merge ููุจูุงูุงุช ุงููุนูุฏุฉ
โ MUST: ุชูุจูู ุงููุณุชุฎุฏู ุนูุฏ ูุฌูุฏ ุชุถุงุฑุน
โ MUST: ุฎูุงุฑ ูููุณุชุฎุฏู ูุงุฎุชูุงุฑ ุงููุณุฎุฉ
```

### ุงููุนูุงุฑ 4.3: ุนูููุงุช Offline ูุงููุฉ
```
โ MUST: ุฅุถุงูุฉ ูุตุฑูู offline ูุนูู ุชูุงูุงู
โ MUST: ุชุนุฏูู ูุตุฑูู offline ูุนูู ุชูุงูุงู
โ MUST: ุญุฐู ูุตุฑูู offline ูุนูู ุชูุงูุงู
โ MUST: ุงูุญุณุงุจุงุช ุตุญูุญุฉ ุญุชู offline
โ MUST: ุนูุฏ ุงููุฒุงููุฉุ ูู ุดูุก ููููู ุตุญูุญ
```

### ุงููุนูุงุฑ 4.4: ุงุฎุชุจุงุฑ ุณููุงุฑูููุงุช ูุนูุฏุฉ
```
โ MUST: offline + ุนูููุงุช ูุชุนุฏุฏุฉ + reconnect
โ MUST: offline + edits ููุณ ุงูุจูุงูุงุช + conflict
โ MUST: offline + ูุดู ุงูุฎุงุฏู + retry + success
โ MUST: ูุญุงูุงุฉ network throttle ูุฃุฎุทุงุก
```

**ุชุงุฑูุฎ ุงูุงูุชูุงุก ุงููุชููุน:** 2026-01-10

---

## ุงููุฑุญูุฉ 5: ุงูุฃุฏุงุก ูุงูุฃูุงู ๐

### ุงููุนูุงุฑ 5.1: ุงูุฃุฏุงุก
```
โ MUST: ุงูุชุญููู ุงูุฃูู < 3 ุซูุงูู
โ MUST: ุงููุฒุงููุฉ 100 operation < 5 ุซูุงูู
โ MUST: UI response time < 100ms
โ MUST: ุงุณุชููุงู ุงูุฐุงูุฑุฉ ูุนููู (< 50MB)
```

### ุงููุนูุงุฑ 5.2: ุงูุฃูุงู
```
โ MUST: ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูุดูุฑุฉ ูุญููุงู
โ MUST: JWT verification ุนูู ูู ุนูููุฉ
โ MUST: ูุง ููุฌุฏ plain text passwords
โ MUST: ุญุฐู ุงูุจูุงูุงุช ุนูุฏ logout
โ MUST: HTTPS ูู ุงูุฅูุชุงุฌ
```

### ุงููุนูุงุฑ 5.3: ุงูุชูุธูู ูุงูุตูุงูุฉ
```
โ MUST: ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ ุชููุงุฆูุงู (> 30 ููู)
โ MUST: ุฏุงูุฉ cleanup ููู IndexedDB
โ MUST: monitoring ููู storage usage
โ SHOULD: compression ููุจูุงูุงุช ุงููุจูุฑุฉ
```

**ุชุงุฑูุฎ ุงูุงูุชูุงุก ุงููุชููุน:** 2026-01-12

---

## ุงููุฑุญูุฉ 6: ุงูุงุฎุชุจุงุฑ ูุงููุดุฑ ๐

### ุงููุนูุงุฑ 6.1: ุงูุงุฎุชุจุงุฑ ุงูุดุงูู
```
โ MUST: unit tests ูู sync functions
โ MUST: integration tests ููุชุฏูู ุงููุงูู
โ MUST: ุงุฎุชุจุงุฑุงุช ุนูู ูุชุตูุญุงุช ูุฎุชููุฉ
โ MUST: ุงุฎุชุจุงุฑุงุช ุนูู ุฃุฌูุฒุฉ ูุฎุชููุฉ (mobile)
โ MUST: ุงุฎุชุจุงุฑุงุช ุงูุณููุงุฑูููุงุช ุงูุญุฏูุฉ
```

### ุงููุนูุงุฑ 6.2: ุงูุชูุซูู
```
โ MUST: ุชูุซูู ุงูู API ุงููุงูู
โ MUST: ุดุฑุญ ูุนูุงุฑูุฉ ุงููุธุงู
โ MUST: ุฃูุซูุฉ ุงุณุชุฎุฏุงู ุนูููุฉ
โ MUST: ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ
โ SHOULD: ููุฏูู ุชูุถูุญู
```

### ุงููุนูุงุฑ 6.3: ุงููุฑุงูุจุฉ
```
โ MUST: logging ุดุงูู ูู ุงูุฅูุชุงุฌ
โ MUST: monitoring ููุนุฏู ูุฌุงุญ ุงููุฒุงููุฉ
โ MUST: alerts ููุฃุฎุทุงุก ุงููุชูุฑุฑุฉ
โ MUST: dashboard ููุฅุญุตุงุฆูุงุช
```

**ุชุงุฑูุฎ ุงูุงูุชูุงุก ุงููุชููุน:** 2026-01-14

---

## ๐ ูุนุงููุฑ ุงูููุฏ ุงูุนุงูููุฉ

### Clean Code
- [ ] ุงูุฏูุงู ูุตูุฑุฉ (< 30 ุณุทุฑ)
- [ ] ุงูุฃุณูุงุก ูุงุถุญุฉ ููุนุจุฑุฉ
- [ ] DRY principle (ูุง ุชูุฑุงุฑ)
- [ ] SOLID principles

### TypeScript
- [ ] strict mode ููุนู
- [ ] ุฌููุน functions typed
- [ ] ูุง ุชูุฌุฏ `any` type
- [ ] error handling ุดุงูู

### Performance
- [ ] ูุง ุชูุฌุฏ memory leaks
- [ ] render optimization
- [ ] lazy loading
- [ ] caching strategies

### Testing
- [ ] > 80% code coverage
- [ ] integration tests ุดุงููุฉ
- [ ] edge cases ูุบุทุงุฉ
- [ ] regression tests

---

## ๐ ูููุฐุฌ ุชูููู ุงูุฌูุฏุฉ

| ุงููุนูุงุฑ | ุงููุฒู | ุงูุญุฏ ุงูุฃุฏูู | ุงููุชููุน |
|--------|------|----------|--------|
| Functionality | 40% | 90% | 100% |
| Performance | 20% | 80% | 95% |
| Code Quality | 20% | 85% | 95% |
| Testing | 15% | 80% | 95% |
| Documentation | 5% | 80% | 100% |

**ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ุงููุทููุจุฉ: โฅ 90%**

---

## โ ุดุฑูุท ุงูุงูุชูุงู

ูู ูุฑุญูุฉ ุชูุนุชุจุฑ ููุชููุฉ ุนูุฏูุง:
1. โ ุฌููุน ุงููุนุงููุฑ MUST ูุณุชููุงุฉ (ุจูุง ูููุง ูุนุงููุฑ ุฅุฏุงุฑุฉ ุงููููุงุช)
2. โ ูุนุธู ูุนุงููุฑ SHOULD ูุณุชููุงุฉ (> 80%)
3. โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ุญุฑุฌุฉ (critical bugs)
4. โ ุชูุซูู ุดุงูู ูุชููุฑ
5. โ ุงุฎุชุจุงุฑุงุช ุชูุซุจุช ุงูุงุณุชููุงุก
6. โ **ุฌููุน ุงููููุงุช ุงููุฏููุฉ ุชู ุชูุธูููุง** (ูุง ุชูุฑุงุฑ ุฃููููุงุช ูุนุทูุฉ)
